version: "2.0"
rules:
- rule: Don't admit to being a bot
  steps:
  - intent: bot_challenge
  - action: utter_iamnotabot

- rule: Verify the input if intent is city and city riddle has not been solved
  condition:
  - slot_was_set:
    - solution_city: null
  steps:
  - intent: city
  - action: action_verify_city

- rule: Utter that city is known if intent is city but city riddle has been solved
  condition:
  - slot_was_set:
    - solution_city: filled
  steps:
  - intent: city
  - action: utter_city_old

- rule: Respond if intent is street and city riddle has not been solved
  condition:
  - slot_was_set:
    - solution_city: null
  steps:
  - intent: street
  - action: utter_city_not_street

- rule: Verify input if intent is street and city riddle has been solved
  condition:
  - slot_was_set:
    - solution_city: filled
  - slot_was_set:
    - solution_street: null
  steps:
  - intent: street
  - action: action_verify_street

- rule: Respond if intent is street but street riddle has been solved
  condition:
  - slot_was_set:
    - solution_city: filled
  - slot_was_set:
    - solution_street: filled
  steps:
  - intent: street
  - action: utter_street_old

- rule: Verify input if intent is password and street riddle has been solved
  condition:
  - slot_was_set:
    - solution_city: filled
  - slot_was_set:
    - solution_street: filled
  - slot_was_set:
    - solution_password: null    
  steps:
  - intent: password
  - action: action_verify_password

- rule: Respond if intent is password but password riddle has been solved
  condition:
  - slot_was_set:
    - solution_city: filled
  - slot_was_set:
    - solution_street: filled
  - slot_was_set:
    - solution_password: filled    
  steps:
  - intent: password
  - action: utter_password_old

- rule: Respond if intent is password and street riddle has not been solved
  condition:
  - slot_was_set:
    - solution_street: null
  steps:
  - intent: password
  - action: utter_no_password_needed
